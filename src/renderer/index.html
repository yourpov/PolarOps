<!DOCTYPE html>
<html lang="en" data-theme="polar-dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PolarOps</title>
  <link rel="stylesheet" href="themes.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="features.css">
  <link rel="stylesheet" href="layout.css">
  <link rel="stylesheet" href="loading.css">
  <link rel="stylesheet" href="../../node_modules/xterm/css/xterm.css">
</head>
<body>
  
  <div class="app-container">
    
    <div class="titlebar drag-region">
      <div class="titlebar-left">
        <img src="../../assets/img/polar bear removed bg [256x256].png" class="app-icon" alt="" draggable="false">
        <span class="app-title">PolarOps</span>
      </div>
      <div class="titlebar-controls no-drag">
        <button id="minimize-btn" class="window-control">
          <svg class="window-control-icon" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 12 12">
            <path d="M2 6h8"/>
          </svg>
        </button>
        <button id="maximize-btn" class="window-control">
          <svg class="window-control-icon" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 12 12">
            <rect x="2.5" y="2.5" width="7" height="7"/>
          </svg>
        </button>
        <button id="close-btn" class="window-control close">
          <svg class="window-control-icon" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 12 12">
            <path d="M3 3l6 6M9 3l-6 6"/>
          </svg>
        </button>
      </div>
    </div>

    <div class="main-content">
      
      <div class="sidebar">
        
        <div class="nav-section">
          <div class="nav-item active" data-view="dashboard">
            <svg class="nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"/>
            </svg>
            <span>Dashboard</span>
          </div>
          <div class="nav-item" data-view="sessions">
            <svg class="nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>
            <span>Sessions</span>
          </div>
          <div class="nav-item" data-view="servers">
            <svg class="nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"/>
            </svg>
            <span>Servers</span>
          </div>
          <div class="nav-item" data-view="settings">
            <svg class="nav-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
            <span>Settings</span>
          </div>
        </div>

        <div class="sessions-container">
          <div class="sessions-header">
            <h3 class="sessions-title">Quick Connect</h3>
            <button id="new-session-btn" class="action-btn-small" title="New SSH Connection (Ctrl+N)">
              <svg class="action-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path>
              </svg>
            </button>
          </div>
          <div id="quick-connect-list" class="sessions-list">
            <!-- Quick connect servers will be populated here -->
            <div class="quick-connect-skeleton" id="quick-connect-skeleton">
              <div class="skeleton skeleton-session"></div>
              <div class="skeleton skeleton-session"></div>
              <div class="skeleton skeleton-session"></div>
            </div>
          </div>
        </div>

        <div class="sidebar-footer">
          <button class="add-server-btn-full">
            <svg class="btn-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <span>New Terminal</span>
          </button>
        </div>
      </div>

      <div class="content-area">
        
        <div id="tabs-container" class="tabs-bar">
          
        </div>

        <div id="terminal-container" class="terminal-area">
          <div id="welcome-screen" class="welcome-screen">
            <div class="welcome-card">
              <img src="../../assets/img/polar bear removed bg [256x256].png" class="welcome-icon" alt="" draggable="false">
              <h1 class="welcome-title">No active sessions</h1>
              <p class="welcome-text">Start a new terminal session or connect to a server</p>
              <div class="welcome-actions">
                <button id="welcome-new-session" class="btn-primary">
                  <svg class="btn-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                  </svg>
                  New Terminal
                </button>
                <button class="btn-secondary add-server-btn">
                  <svg class="btn-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path>
                  </svg>
                  SSH Connection
                </button>
              </div>
            </div>
          </div>
          
          <!-- Flash cards for loading states in servers view -->
          <div id="servers-loading" class="welcome-screen" style="display: none;">
            <div style="max-width: 600px; width: 100%; display: flex; flex-direction: column; gap: 16px; padding: 0 40px;">
              <div class="flash-card">
                <div class="flash-card-content">
                  <div class="skeleton skeleton-text large"></div>
                  <div class="skeleton skeleton-text medium"></div>
                  <div class="skeleton skeleton-text small"></div>
                </div>
              </div>
              <div class="flash-card">
                <div class="flash-card-content">
                  <div class="skeleton skeleton-text large"></div>
                  <div class="skeleton skeleton-text medium"></div>
                  <div class="skeleton skeleton-text small"></div>
                </div>
              </div>
              <div class="flash-card">
                <div class="flash-card-content">
                  <div class="skeleton skeleton-text large"></div>
                  <div class="skeleton skeleton-text medium"></div>
                  <div class="skeleton skeleton-text small"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="status-bar">
          <div class="status-left">
            <span class="status-indicator"></span>
            <span>Ready</span>
          </div>
          <div class="status-right">
            <span class="credit-name">pov (YourPOV)</span>
            <span class="credit-sep">·</span>
            <a href="#" class="credit-link" data-external="https://t.me/depoLTC">@depoLTC</a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div id="ssh-modal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">New SSH Connection</h3>
        <button id="ssh-close-x" class="modal-close-btn" type="button">
          <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <form id="ssh-form" class="modal-form">
        <div class="form-group">
          <label class="form-label">Server Name (Optional)</label>
          <input type="text" id="ssh-name" class="form-input" placeholder="My VPS">
        </div>
        <div class="form-group">
          <label class="form-label">Host</label>
          <input type="text" id="ssh-host" class="form-input" placeholder="example.com" required>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Port</label>
            <input type="number" id="ssh-port" class="form-input" value="22" required>
          </div>
          <div class="form-group">
            <label class="form-label">Username</label>
            <input type="text" id="ssh-username" class="form-input" placeholder="root" required>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" id="ssh-password" class="form-input" placeholder="••••••••">
        </div>
        <div class="form-group" style="margin-top: 8px;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 12px; color: var(--text-subtle);">
            <input type="checkbox" id="ssh-save" style="width: 16px; height: 16px; cursor: pointer; accent-color: var(--accent);" checked>
            Save this server for quick access
          </label>
        </div>
        <div class="modal-actions">
          <button type="button" id="ssh-cancel" class="btn-secondary">
            Cancel
          </button>
          <button type="submit" class="btn-primary">
            Connect
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Confirm Modal -->
  <div id="confirm-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content confirm-modal-content">
      <div class="confirm-modal-icon" id="confirm-modal-icon">
        <svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"/>
        </svg>
      </div>
      <h3 class="confirm-modal-title" id="confirm-modal-title">Confirm Action</h3>
      <p class="confirm-modal-message" id="confirm-modal-message">Are you sure you want to proceed?</p>
      <div class="confirm-modal-actions">
        <button type="button" id="confirm-cancel-btn" class="btn-secondary">Cancel</button>
        <button type="button" id="confirm-ok-btn" class="btn-danger">Delete</button>
      </div>
    </div>
  </div>

  <!-- Edit Server Modal -->
  <div id="edit-server-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Edit Server</h3>
        <button id="edit-server-close-x" class="modal-close-btn" type="button">
          <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <form id="edit-server-form" class="modal-form">
        <input type="hidden" id="edit-server-id">
        <div class="form-group">
          <label class="form-label">Server Name</label>
          <input type="text" id="edit-server-name" class="form-input" placeholder="My VPS">
        </div>
        <div class="form-group">
          <label class="form-label">Host</label>
          <input type="text" id="edit-server-host" class="form-input" placeholder="example.com" required>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Port</label>
            <input type="number" id="edit-server-port" class="form-input" value="22" required>
          </div>
          <div class="form-group">
            <label class="form-label">Username</label>
            <input type="text" id="edit-server-username" class="form-input" placeholder="root" required>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" id="edit-server-password" class="form-input" placeholder="Leave blank to keep current">
        </div>
        <div class="form-group">
          <label class="form-label">Connection Type</label>
          <select id="edit-server-type" class="form-input">
            <option value="ssh">SSH</option>
            <option value="sftp">SFTP (Coming Soon)</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" id="edit-server-cancel" class="btn-secondary">Cancel</button>
          <button type="submit" class="btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Terminal Context Menu -->
  <div id="terminal-context-menu" class="context-menu" style="display: none;">
    <div class="context-menu-item" data-action="rename">
      <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
      </svg>
      <span>Rename Terminal</span>
    </div>
    <div class="context-menu-separator"></div>
    <div class="context-menu-item" data-action="sftp">
      <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
      </svg>
      <span>Open SFTP Browser</span>
    </div>
    <div class="context-menu-item" data-action="port-forward">
      <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
      </svg>
      <span>Port Forwarding</span>
    </div>
    <div class="context-menu-item" data-action="toggle-logging">
      <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
      </svg>
      <span>Toggle Session Logging</span>
    </div>
    <div class="context-menu-separator"></div>
    <div class="context-menu-label">Tab Color</div>
    <div class="context-menu-colors">
      <div class="color-option" data-color="default" title="Default"></div>
      <div class="color-option" data-color="#ef4444" title="Red"></div>
      <div class="color-option" data-color="#f97316" title="Orange"></div>
      <div class="color-option" data-color="#eab308" title="Yellow"></div>
      <div class="color-option" data-color="#22c55e" title="Green"></div>
      <div class="color-option" data-color="#00d9ff" title="Cyan"></div>
      <div class="color-option" data-color="#3b82f6" title="Blue"></div>
      <div class="color-option" data-color="#a855f7" title="Purple"></div>
      <div class="color-option" data-color="#ec4899" title="Pink"></div>
    </div>
    <div class="context-menu-separator"></div>
    <div class="context-menu-item" data-action="duplicate">
      <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
      </svg>
      <span>Duplicate Session</span>
    </div>
    <div class="context-menu-item danger" data-action="close">
      <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
      </svg>
      <span>Close Terminal</span>
    </div>
  </div>

  <!-- Rename Terminal Modal -->
  <div id="rename-terminal-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 400px;">
      <div class="modal-header">
        <h3 class="modal-title">Rename Terminal</h3>
        <button id="rename-terminal-close-x" class="modal-close-btn" type="button">
          <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <form id="rename-terminal-form" class="modal-form">
        <input type="hidden" id="rename-terminal-id">
        <div class="form-group">
          <label class="form-label">Terminal Name</label>
          <input type="text" id="rename-terminal-name" class="form-input" placeholder="My Terminal" required>
        </div>
        <div class="modal-actions">
          <button type="button" id="rename-terminal-cancel" class="btn-secondary">Cancel</button>
          <button type="submit" class="btn-primary">Rename</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
